<div class="container">
    <h1 class="mt-5 mb-6 text-center">Editar reserva</h1>
    <form [formGroup]="formulario" (ngSubmit)="cadastrar()" >
      <input class="form-control" id="cd-id"  formControlName="id"  value="{{reserva.id}}" style="visibility: hidden;">
       
        <div class="form-row" >
            <div class="col">
              <label for="quadra">Local</label>
              <select  class="form-control" id="quadra"  formControlName="quadra" (change)="onSelect();onSelectData()">
                <option *ngFor="let quadra of quadras" [value]="quadra.id">{{ quadra.nome }}</option>
              </select>
            </div>
            <div class="col mt-3">
              <label for="espaco">Ambiente</label>
              <select class="form-control" id="espaco"  formControlName="espaco">
                <option *ngFor="let esp of espacos" [value]="esp.id">{{ esp.nome }}</option>
              </select>
            </div>
          </div>
          <div class="row mt-3">
          <div class="mb-3 col ">
            <label for="data" class="form-label">Data</label>
            <input  type="date" class="form-control" id="data"  formControlName="data" (change)="onSelectData()" >
          </div>
            <div class="mb-3 col">
            <label for="hora" class="form-label">Horário</label>
            <select  class="form-control" id="hora"  formControlName="hora">
              <option *ngFor="let hor of horarios" [value]="hor.valorAlfa">{{ hor.valorAlfa }}</option>
            </select>
            Horário antigo: {{horarioAntigo}}
          </div>
        
          
        </div>
      <span style="color: red;">*</span> itens obrigatórios
     
      <div class="btns">
    
        <button [ngStyle]="{'display': display_c}"  type="button" (click)="cancelar();"  class="btn btn-lg btn-primary text-right mt-5 rounded-0">Cancelar</button>
        <button  [ngStyle]="{'display': display_c}" type="button" (click)="openModal(template);" class="btn btn-lg btn-danger text-right mt-5 rounded-0" >Excluir</button>
        <button  [ngStyle]="{'display': display_c}" type="submit" class="btn btn-lg btn-success text-right mt-5 rounded-0" >Salvar</button>
        
     
      <button [ngStyle]="{'display': display_a}" type="button" (click)="voltar()"  class="btn btn-lg btn-primary text-right mt-5 rounded-0" ><i class="fa fa-arrow-left" aria-hidden="true"></i>
         Voltar</button>
        
      <button [ngStyle]="{'display': display_a}" type="button" (click)="alterar()"  class="btn btn-lg btn-warning text-right mt-5 rounded-0" >Alterar</button>
      
      
    </div>  
    </form>
    </div>

    <ng-template #template>
      <div class="modal-header">
        <h4 class="modal-title pull-left" id="my-modal-title">Cancelamento de reserva</h4>
        <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="modalRef?.hide()">
          <span aria-hidden="true" class="visually-hidden">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="formularioModal" (ngSubmit)="excluirReserva()">
  
          <div class="form-row"> 
        
            <div class="col-md-12">
              <label for="cd-motivo">MOTIVO <span style="color: red;">*</span></label>
              <textarea style=" resize: none; height: 100px;" class="form-control" id="cd-motivo"  formControlName="motivo" placeholder="Digite aqui o motivo do cancelamento"></textarea>
                
            </div> 
            <button  type="submit"  class="btn btn-danger  mt-5 col-12">Excluir Reserva</button>
       
           
          </div>

          
             
        </form>
      </div>
    </ng-template>
